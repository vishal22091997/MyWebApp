package sethi.vishal.classes;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

import sethi.vishal.entity.UsersData;

public class AddUserDetails {
	private String email;
	private String password;
	private String firstName;
	private String lastName;
	private String dob;
	private UsersData user ;
	private byte[] data;
	private String place;
	private String phone;
	
	
	public AddUserDetails(String email, String password, String firstName, String lastName, String dob,
			byte[] data, String place, String phone) {
		super();
		this.email = email;
		this.password = password;
		this.firstName = firstName;
		this.lastName = lastName;
		this.dob = dob;
		
		this.data = data;
		this.place = place;
		this.phone = phone;
		makeObject();
	}
	public void makeObject(){
		user = new UsersData(email, password, firstName, lastName, dob,data,place,phone);
	}
	public void addUser(){
		SessionFactory factory = new Configuration().configure().addAnnotatedClass(UsersData.class).buildSessionFactory();
		Session session = factory.getCurrentSession();
		session.beginTransaction();
		System.out.println(email+" " +password+" "+firstName+" "+lastName+" "+dob+" "+place+" "+phone );
		
		session.save(user);
		session.getTransaction().commit();
		System.out.println("commited");
		factory.close();
	}
}