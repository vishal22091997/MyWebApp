import java.util.*;
 
class AGoodSet {
	public static int exponent(int n, int i){
		int exp = 0;
		while(n%i==0){
			exp++;
			n = n/i;
		}
		return exp;
	}
	public static boolean isPrime(int n){
		if(n==1){
			return false;
		}else if(n==2){
			return true;
		}else{
			for(int i=2, j= (int)Math.sqrt(n);i<=j;i++){
				if(n%i==0){
					return false;
				}
			}
			return true;
		}
	}
	public static void main(String hd[]){
		Scanner scan = new Scanner(System.in);
		int n = scan.nextInt();
		int a[] = new int[n];
		for(int i=0;i<n;i++){
			a[i] = scan.nextInt();
		}
		 
		 
		int q = scan.nextInt();
		while(q-->0){
			int result = 0;
			int l = scan.nextInt()-1, r = scan.nextInt()-1, x = scan.nextInt(), y = scan.nextInt();
			
			for(int i=x;i<=y;i++){
				
				if(i==2||(i%2!=0&&isPrime(i))){
					for(int j=l;j<=r;j++){
						 
						 
							int curVal = exponent(a[j], i);
							 
							result+=curVal;
						 
					}
				}
				 
				
				
			}
			
			
			
			 
			System.out.println(result);
		}
		
	}
 
}
